---
interface Sponsor {
  src?: any;
  name: string;
}

interface Props {
  tier: string;
  sponsors?: Sponsor[];
  count?: number;
}

const { tier, sponsors = [], count = 0 } = Astro.props;
const displaySponsors = sponsors.length > 0 
  ? sponsors 
  : Array.from({ length: count }).map((_, i) => ({ name: `${tier} ${i + 1}` }));
---

<div class="mb-16 last:mb-0">
{tier && <h3 class="text-center text-gray-500 uppercase tracking-[0.2em] text-sm mb-10">{tier} Partners</h3>}
  <div class="flex flex-wrap justify-center gap-6 md:gap-10">
    {displaySponsors.map((sponsor, i) => (
      <div 
        class="w-48 h-28 md:w-80 md:h-48 bg-white/5 border border-white/10 rounded-3xl flex items-center justify-center hover:border-ted-red/30 hover:bg-white/10 transition-all duration-300 animate-on-scroll group overflow-hidden p-6"
        style={`transition-delay: ${i * 100}ms;`}
      >
        {sponsor.src ? (
          <img src={sponsor.src.src} alt={sponsor.name} class="max-w-full max-h-full object-contain group-hover:scale-110 transition-transform duration-300" />
        ) : (
          <span class="text-xs text-gray-600 font-bold uppercase">{sponsor.name}</span>
        )}
      </div>
    ))}
  </div>
</div>
